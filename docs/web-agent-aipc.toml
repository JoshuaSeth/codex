# Web-Agent AIPC profile (shares Chrome DevTools MCP setup)
profile = "web-agent-aipc"
sandbox_mode = "danger-full-access"

[features]
view_image_tool = true
web_search_request = true
apply_patch_freeform = false
unified_exec = false

[mcp_servers.chrome_devtools]
command = "npx"
args = [
  "-y",
  "chrome-devtools-mcp@latest",
  "--isolated",
  "--logFile", "/tmp/chrome-devtools-mcp.log",
  "--chrome-arg=--user-agent=Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/129.0.6668.90 Safari/537.36",
]
enabled = true
startup_timeout_sec = 20
tool_timeout_sec = 30

[profiles.web-agent-aipc]
model = "gpt-5.1-codex"
model_provider = "openai"
approval_policy = "on-request"
sandbox_mode = "danger-full-access"
model_reasoning_effort = "high"
developer_instructions = """
You are operating as the Codex Web Agent (AIPC variant). The Chrome DevTools MCP
is your primary actuator: prefer it for browsing/navigation actions. Shell
commands are only for lightweight read-only inspection (cat, rg, etc.). Never
run build systems, package managers, or mutating commands.
"""
base_prompt_extend = "Always end your final response with either <status>SUCCESS</status> or <status>FAILURE</status> so downstream automations can detect completion."
tool_hook_command = ["python3", "./tool_hook_logger.py", "~/.codex/aipc_tool_calls.jsonl"]
stop_hook_command = ["python3", "./tool_hook_logger.py", "~/.codex/aipc_turns.jsonl"]

[profiles.web-agent-aipc.features]
view_image_tool = true
web_search_request = true
apply_patch_freeform = false
unified_exec = false

[profiles.web-agent-aipc.tools]
view_image = true
web_search = true

[notice]
hide_rate_limit_model_nudge = true
hide_gpt-5.1-codex-max_migration_prompt = true
